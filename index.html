<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>ASOUNDING</title>
    <link rel="stylesheet" href="/src/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="app">
      <canvas id="visualizer"></canvas>
      <div id="morph-overlay"></div>
      <div id="mode-display" class="hidden">WAVEFORM</div>
      
      <!-- Start screen -->
      <div id="start-screen">
        <div class="start-content">
          <h1>ASOUNDING</h1>
          <p class="tagline">Visual music experience</p>
          <div class="start-buttons">
            <button id="system-audio" class="start-btn primary">
              <span class="btn-icon">üîä</span>
              System Audio
            </button>
            <button id="mic" class="start-btn">
              <span class="btn-icon">üé§</span>
              Microphone
            </button>
          </div>
          <p class="start-hint">Select Chrome tab with audio / Check "Share tab audio"</p>
        </div>
      </div>
      
      <!-- Right panel trigger zone -->
      <div id="panel-trigger"></div>
      
      <!-- Right slide-out panel -->
      <div id="panel">
        <div class="panel-header">
          <div class="audio-stats">
            <div class="stat">
              <span class="stat-value" id="bpm-display">120</span>
              <span class="stat-label">BPM</span>
            </div>
            <div class="stat">
              <div class="beat-indicator" id="beat-indicator"></div>
              <span class="stat-label">BEAT</span>
            </div>
            <div class="stat">
              <span class="stat-value" id="energy-display">--</span>
              <span class="stat-label">ENERGY</span>
            </div>
          </div>
        </div>
        
        <!-- Mode Grid -->
        <div class="panel-section">
          <div class="section-header">MODES</div>
          <div class="mode-grid">
            <button class="mode-btn active" data-mode="0" data-key="1">
              <span class="mode-icon">„Ä∞Ô∏è</span>
              <span class="mode-name">Wave</span>
            </button>
            <button class="mode-btn" data-mode="1" data-key="2">
              <span class="mode-icon">‚óâ</span>
              <span class="mode-name">Circular</span>
            </button>
            <button class="mode-btn" data-mode="2" data-key="3">
              <span class="mode-icon">‚ñÆ‚ñÆ‚ñÆ</span>
              <span class="mode-name">Bars</span>
            </button>
            <button class="mode-btn" data-mode="3" data-key="4">
              <span class="mode-icon">‚ú¶</span>
              <span class="mode-name">Particles</span>
            </button>
            <button class="mode-btn" data-mode="4" data-key="5">
              <span class="mode-icon">‚óé</span>
              <span class="mode-name">Tunnel</span>
            </button>
            <button class="mode-btn" data-mode="5" data-key="6">
              <span class="mode-icon">‚óè</span>
              <span class="mode-name">Sphere</span>
            </button>
            <button class="mode-btn" data-mode="6" data-key="7">
              <span class="mode-icon">üåÄ</span>
              <span class="mode-name">Spiral</span>
            </button>
            <button class="mode-btn" data-mode="7" data-key="8">
              <span class="mode-icon">‚ñ¶</span>
              <span class="mode-name">Grid</span>
            </button>
            <button class="mode-btn" data-mode="8" data-key="9">
              <span class="mode-icon">‚óØ</span>
              <span class="mode-name">Rings</span>
            </button>
            <button class="mode-btn" data-mode="9" data-key="0">
              <span class="mode-icon">‚úß</span>
              <span class="mode-name">Stars</span>
            </button>
            <button class="mode-btn" data-mode="10" data-key="K">
              <span class="mode-icon">‚úø</span>
              <span class="mode-name">Kaleido</span>
            </button>
            <button class="mode-btn" data-mode="11" data-key="L">
              <span class="mode-icon">üíß</span>
              <span class="mode-name">Fluid</span>
            </button>
          </div>
          <div class="auto-cycle-row">
            <label class="toggle-label">
              <input type="checkbox" id="auto-cycle" checked />
              <span>Auto-Cycle</span>
            </label>
            <select id="auto-cycle-beats">
              <option value="4">4 beats</option>
              <option value="8">8 beats</option>
              <option value="16" selected>16 beats</option>
              <option value="32">32 beats</option>
            </select>
            <select id="auto-cycle-mode">
              <option value="smart">Smart</option>
              <option value="random">Random</option>
              <option value="sequential">Seq</option>
            </select>
          </div>
        </div>
        
        <!-- Accordion Sections -->
        <div class="accordion">
          <!-- Audio Section -->
          <div class="accordion-item">
            <button class="accordion-header">
              <span>üéµ Audio</span>
              <span class="accordion-icon">‚Ä∫</span>
            </button>
            <div class="accordion-content">
              <div class="control-row">
                <label>Sensitivity</label>
                <input type="range" id="sensitivity" min="0.5" max="5" step="0.1" value="2" />
              </div>
              <div class="control-row">
                <label>Bass React</label>
                <input type="range" id="bass-react" min="0" max="3" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Mids React</label>
                <input type="range" id="mids-react" min="0" max="3" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Highs React</label>
                <input type="range" id="highs-react" min="0" max="3" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Beat Pulse</label>
                <input type="checkbox" id="beat-pulse" checked />
              </div>
            </div>
          </div>
          
          <!-- Visual Section -->
          <div class="accordion-item">
            <button class="accordion-header">
              <span>üëÅÔ∏è Visual</span>
              <span class="accordion-icon">‚Ä∫</span>
            </button>
            <div class="accordion-content">
              <div class="control-row">
                <label>Speed</label>
                <input type="range" id="anim-speed" min="0.2" max="3" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Trail</label>
                <input type="range" id="trail-length" min="0" max="2" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Particles</label>
                <input type="range" id="particle-density" min="0.2" max="3" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Zoom Pulse</label>
                <input type="range" id="zoom-pulse" min="0" max="2" step="0.1" value="0.5" />
              </div>
              <div class="control-row">
                <label>Rotation</label>
                <input type="range" id="scene-rotation" min="0" max="1" step="0.05" value="0" />
              </div>
              <div class="control-row">
                <label>Mirror X</label>
                <input type="checkbox" id="mirror-x" />
              </div>
              <div class="control-row">
                <label>Mirror Y</label>
                <input type="checkbox" id="mirror-y" />
              </div>
            </div>
          </div>
          
          <!-- Colors Section -->
          <div class="accordion-item">
            <button class="accordion-header">
              <span>üé® Colors</span>
              <span class="accordion-icon">‚Ä∫</span>
            </button>
            <div class="accordion-content">
              <div class="control-row">
                <label>Primary</label>
                <input type="color" id="color-primary" value="#ff0000" />
              </div>
              <div class="control-row">
                <label>Secondary</label>
                <input type="color" id="color-secondary" value="#00ffff" />
              </div>
              <div class="control-row">
                <label>Background</label>
                <input type="color" id="color-bg" value="#000000" />
              </div>
              <div class="control-row">
                <label>Saturation</label>
                <input type="range" id="saturation" min="0" max="2" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Temperature</label>
                <input type="range" id="temperature" min="-1" max="1" step="0.1" value="0" />
              </div>
              <div class="control-row">
                <label>Color Cycle</label>
                <input type="checkbox" id="color-cycle" />
              </div>
              <div class="control-row">
                <label>Cycle Speed</label>
                <input type="range" id="cycle-speed" min="0.1" max="3" step="0.1" value="1" />
              </div>
            </div>
          </div>
          
          <!-- Effects Section -->
          <div class="accordion-item">
            <button class="accordion-header">
              <span>‚ú® Effects</span>
              <span class="accordion-icon">‚Ä∫</span>
            </button>
            <div class="accordion-content">
              <div class="control-row">
                <label>Bloom</label>
                <input type="range" id="bloom" min="0" max="5" step="0.1" value="1.5" />
              </div>
              <div class="control-row">
                <label>Glitch</label>
                <input type="range" id="glitch" min="0" max="1" step="0.05" value="0" />
              </div>
              <div class="control-row">
                <label>Chromatic</label>
                <input type="range" id="chromatic" min="0" max="1" step="0.05" value="0.1" />
              </div>
              <div class="control-row">
                <label>Scanlines</label>
                <input type="range" id="scanlines" min="0" max="2" step="0.1" value="0.5" />
              </div>
              <div class="control-row">
                <label>Noise</label>
                <input type="range" id="noise" min="0" max="1" step="0.05" value="0.1" />
              </div>
              <div class="control-row">
                <label>Vignette</label>
                <input type="range" id="vignette" min="0" max="1" step="0.05" value="0" />
              </div>
              <div class="control-row">
                <label>Shake</label>
                <input type="range" id="shake" min="0" max="2" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Beat Flash</label>
                <input type="checkbox" id="beat-flash" />
              </div>
              <div class="control-row">
                <label>Invert</label>
                <input type="checkbox" id="invert" />
              </div>
              <div class="control-row">
                <label>Motion Blur</label>
                <input type="checkbox" id="motion-blur" />
              </div>
            </div>
          </div>
          
          <!-- Text Section -->
          <div class="accordion-item">
            <button class="accordion-header">
              <span>‚úèÔ∏è Text</span>
              <span class="accordion-icon">‚Ä∫</span>
            </button>
            <div class="accordion-content">
              <div class="control-row">
                <label>Text</label>
                <input type="text" id="custom-text" value="NAKUL" maxlength="20" />
              </div>
              <div class="control-row">
                <label>Font</label>
                <select id="font-select">
                  <option value="Bebas Neue">Bebas Neue</option>
                  <option value="Montserrat">Montserrat</option>
                  <option value="Oswald">Oswald</option>
                  <option value="Rajdhani">Rajdhani</option>
                  <option value="Orbitron">Orbitron</option>
                  <option value="Press Start 2P">Pixel</option>
                  <option value="Teko">Teko</option>
                  <option value="Anton">Anton</option>
                  <option value="Black Ops One">Black Ops</option>
                  <option value="Righteous">Righteous</option>
                </select>
              </div>
              <div class="control-row">
                <label>Animation</label>
                <select id="text-anim">
                  <option value="pulse">Pulse</option>
                  <option value="bounce">Bounce</option>
                  <option value="shake">Shake</option>
                  <option value="spin">Spin</option>
                  <option value="none">Static</option>
                </select>
              </div>
              <div class="control-row">
                <label>Size</label>
                <input type="range" id="text-size" min="0.2" max="3" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Opacity</label>
                <input type="range" id="text-opacity" min="0" max="1" step="0.05" value="0.9" />
              </div>
              <div class="control-row">
                <label>Reactivity</label>
                <input type="range" id="text-reactivity" min="0" max="3" step="0.1" value="1" />
              </div>
              <div class="control-row">
                <label>Glow</label>
                <input type="range" id="text-glow" min="0" max="2" step="0.1" value="0.5" />
              </div>
              <div class="control-row">
                <label>Color</label>
                <input type="color" id="text-color" value="#ffffff" />
              </div>
              <div class="control-row">
                <label>Outline</label>
                <input type="checkbox" id="text-outline" />
              </div>
              <div class="control-row">
                <label>Outline Color</label>
                <input type="color" id="text-outline-color" value="#000000" />
              </div>
            </div>
          </div>
          
          <!-- Presets Section -->
          <div class="accordion-item">
            <button class="accordion-header">
              <span>üíæ Presets</span>
              <span class="accordion-icon">‚Ä∫</span>
            </button>
            <div class="accordion-content">
              <div class="preset-grid">
                <button class="preset-btn" data-preset="default">Default</button>
                <button class="preset-btn" data-preset="neon">Neon</button>
                <button class="preset-btn" data-preset="retro">Retro</button>
                <button class="preset-btn" data-preset="minimal">Minimal</button>
                <button class="preset-btn" data-preset="chaos">Chaos</button>
                <button class="preset-btn" data-preset="chill">Chill</button>
                <button class="preset-btn" data-preset="rave">Rave</button>
                <button class="preset-btn" data-preset="vaporwave">Vapor</button>
                <button class="preset-btn" data-preset="matrix">Matrix</button>
                <button class="preset-btn" data-preset="fire">Fire</button>
              </div>
              <div class="preset-actions">
                <button id="save-preset" class="action-btn">Save Custom</button>
                <button id="load-preset" class="action-btn">Load Custom</button>
              </div>
              <div class="preset-actions">
                <button id="export-preset" class="action-btn">Export</button>
                <button id="import-preset" class="action-btn">Import</button>
              </div>
              <div class="control-row">
                <label>Transition</label>
                <select id="transition-style">
                  <option value="fade">Fade</option>
                  <option value="cut">Cut</option>
                  <option value="wipe">Wipe</option>
                  <option value="zoom">Zoom</option>
                  <option value="glitch">Glitch</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Keyboard hints -->
        <div class="panel-footer">
          <span>F fullscreen</span>
          <span>H hide</span>
          <span>‚Üê ‚Üí cycle</span>
          <span>scroll zoom</span>
        </div>
      </div>
      
    </div>
    
    <!-- Import/Export Modal -->
    <div id="preset-modal" class="modal hidden">
      <div class="modal-content">
        <h3 id="modal-title">Export Preset</h3>
        <textarea id="preset-json" rows="10" placeholder="Paste preset JSON here..."></textarea>
        <div class="modal-buttons">
          <button id="modal-copy" class="action-btn">COPY</button>
          <button id="modal-apply" class="action-btn hidden">APPLY</button>
          <button id="modal-close" class="action-btn">CLOSE</button>
        </div>
      </div>
    </div>
    
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
